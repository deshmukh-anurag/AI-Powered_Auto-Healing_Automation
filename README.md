# Auto-Heal QA Agent (Wasp Edition)

A self-healing, AI-powered test automation system built with the Wasp Framework that uses RAG (Retrieval-Augmented Generation) to automatically recover from UI changes.

## ğŸ¯ Project Overview

This full-stack application allows users to define high-level browser automation goals in natural language. The system uses a **Continuous Agentic Loop** to execute steps, **PostgreSQL** to track test history, and **ChromaDB** to store vector embeddings of UI elements for intelligent self-healing.

### Key Innovation

Instead of brittle CSS selectors or XPath that break when IDs change, this system uses **semantic understanding** of UI elements. Even if `#btn-49` becomes `#submit-new`, the system recognizes it as "the button that says 'Login'" and automatically heals the test.

## ğŸš€ Tech Stack

| Layer | Technology | Purpose |
|-------|-----------|---------|
| **Frontend** | React + Tailwind CSS | User interface (auto-generated by Wasp) |
| **Backend** | Node.js (Wasp Server) | Business logic and automation orchestration |
| **Database** | PostgreSQL (Prisma ORM) | Test metadata, logs, and "Golden State" storage |
| **Vector DB** | ChromaDB | Semantic search for UI element matching |
| **Automation** | Playwright | Browser automation (headless/headed) |
| **AI Models** | Gemini 1.5 Flash | Fast decision-making in the "Think" phase |
| | Gemini Embeddings | Vectorization for the "Healing" phase |

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                          â”‚
â”‚              (React Dashboard - Wasp Frontend)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AGENTIC LOOP (Brain)                       â”‚
â”‚  1. Observe (AXTree) â†’ 2. Think (Gemini) â†’ 3. Act (Playwright) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                           â”‚
                â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL (Prisma)     â”‚   â”‚   RAG Healer Module      â”‚
â”‚  - Test Suites            â”‚   â”‚  - ChromaDB Vectors      â”‚
â”‚  - Steps & Golden States  â”‚   â”‚  - Cosine Similarity     â”‚
â”‚  - Execution History      â”‚   â”‚  - Auto-Recovery         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š Documentation

- [System Architecture](./docs/01-architecture.md)
- [Database Schema](./docs/02-database-schema.md)
- [Module A: The Observer (AXTree)](./docs/03-module-observer.md)
- [Module B: The Agentic Loop](./docs/04-module-agentic-loop.md)
- [Module C: The RAG Healer](./docs/05-module-rag-healer.md)
- [Wasp Implementation Guide](./docs/06-wasp-implementation.md)
- [AI Prompting Strategy](./docs/07-ai-prompting.md)
- [University Project Features](./docs/08-bonus-features.md)
- [Setup & Installation](./docs/09-setup-installation.md)

## ğŸ“ Why This Project Stands Out (University Context)

1. **Novel Approach**: Combines LLMs with Vector Databases for QA automation
2. **Real-World Problem**: Solves the #1 pain point in test automation (flaky tests)
3. **Modern Stack**: Uses cutting-edge technologies (Wasp, Gemini, ChromaDB)
4. **Measurable Impact**: Tracks healing success rate and cost savings
5. **Scalable Design**: Can be extended to mobile apps, APIs, etc.

## ğŸ”¥ Quick Start

```bash
# Install Wasp
curl -sSL https://get.wasp-lang.dev/installer.sh | sh

# Clone the repository
git clone <your-repo-url>
cd AI-Healing

# Install dependencies
wasp start db  # Start PostgreSQL
npm install

# Start ChromaDB (Docker)
docker run -p 8000:8000 chromadb/chroma

# Configure environment variables
cp .env.example .env
# Add your GEMINI_API_KEY

# Start the development server
wasp start
```

## ğŸ“Š Example Use Case

**User Input:**
```
Goal: "Login to the website and add a product to cart"
Start URL: https://example-store.com
```

**System Execution:**
1. AI observes the page and identifies the login button
2. Clicks the button and stores its "Golden State" (role: button, text: "Login", position: top-right)
3. Fills in credentials
4. *Website updates and button ID changes from `#login-btn` to `#auth-submit`*
5. **RAG Healer activates**: Finds the new selector by semantic similarity
6. Test continues successfully âœ…

## ğŸ† Success Metrics

- **Healing Rate**: % of broken tests automatically fixed
- **Cost Efficiency**: Average cost per test run (target: $0.001)
- **Time Saved**: Manual debugging hours eliminated
- **Reliability Score**: % of tests passing without human intervention

## ğŸ“ License

MIT License - See [LICENSE](LICENSE) file for details

## ğŸ¤ Contributing

This is a university project, but contributions and suggestions are welcome! Please read [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

## ğŸ‘¨â€ğŸ’» Author

Anurag Deshmukh - [GitHub Profile](https://github.com/deshmukh-anurag)

---

**Note**: This project demonstrates the power of combining Large Language Models with traditional automation frameworks to create truly intelligent, self-healing systems.
